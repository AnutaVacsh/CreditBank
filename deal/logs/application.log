2024-12-10T20:47:37.567+04:00  INFO 18096 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Starting DealApplication using Java 22.0.2 with PID 18096 (C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes started by Ann in C:\Users\Ann\Desktop\study\neoflex\creditBank\deal)
2024-12-10T20:47:37.597+04:00 DEBUG 18096 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Running with Spring Boot v3.3.5, Spring v6.1.14
2024-12-10T20:47:37.603+04:00  INFO 18096 --- [deal] [main] ru.vaschenko.deal.DealApplication        : No active profile set, falling back to 1 default profile: "default"
2024-12-10T20:47:39.497+04:00  INFO 18096 --- [deal] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-10T20:47:39.618+04:00  INFO 18096 --- [deal] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 96 ms. Found 3 JPA repository interfaces.
2024-12-10T20:47:39.929+04:00  INFO 18096 --- [deal] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b965e6fb-a55f-38f3-89ae-cc70e94e1758
2024-12-10T20:47:40.733+04:00  INFO 18096 --- [deal] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2024-12-10T20:47:40.765+04:00  INFO 18096 --- [deal] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-10T20:47:40.765+04:00  INFO 18096 --- [deal] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10T20:47:40.861+04:00  INFO 18096 --- [deal] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-10T20:47:40.861+04:00  INFO 18096 --- [deal] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3127 ms
2024-12-10T20:47:41.242+04:00  INFO 18096 --- [deal] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-10T20:47:41.393+04:00  INFO 18096 --- [deal] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-10T20:47:41.484+04:00  INFO 18096 --- [deal] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-10T20:47:42.017+04:00  INFO 18096 --- [deal] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-10T20:47:42.087+04:00  INFO 18096 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-10T20:47:42.417+04:00  INFO 18096 --- [deal] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@17f8db6
2024-12-10T20:47:42.417+04:00  INFO 18096 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-10T20:47:42.944+04:00 ERROR 18096 --- [deal] [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Basic collection has element type 'ru.vaschenko.deal.models.json.PaymentScheduleElement' which is not a known basic type (attribute is not annotated '@ElementCollection', '@OneToMany', or '@ManyToMany')
2024-12-10T20:47:42.944+04:00  WARN 18096 --- [deal] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Basic collection has element type 'ru.vaschenko.deal.models.json.PaymentScheduleElement' which is not a known basic type (attribute is not annotated '@ElementCollection', '@OneToMany', or '@ManyToMany')
2024-12-10T20:47:42.944+04:00  INFO 18096 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-10T20:47:42.973+04:00  INFO 18096 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-10T20:47:42.973+04:00  INFO 18096 --- [deal] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-12-10T20:47:42.986+04:00  INFO 18096 --- [deal] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-12-10T20:47:43.018+04:00 ERROR 18096 --- [deal] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Basic collection has element type 'ru.vaschenko.deal.models.json.PaymentScheduleElement' which is not a known basic type (attribute is not annotated '@ElementCollection', '@OneToMany', or '@ManyToMany')
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at ru.vaschenko.deal.DealApplication.main(DealApplication.java:15) ~[classes/:na]
Caused by: org.hibernate.MappingException: Basic collection has element type 'ru.vaschenko.deal.models.json.PaymentScheduleElement' which is not a known basic type (attribute is not annotated '@ElementCollection', '@OneToMany', or '@ManyToMany')
	at org.hibernate.type.descriptor.java.spi.BasicCollectionJavaType.getRecommendedJdbcType(BasicCollectionJavaType.java:73) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:195) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.mapping.BasicValue.resolution(BasicValue.java:647) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:498) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:350) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:340) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1796) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at java.base/java.util.ArrayList.removeIf(ArrayList.java:1766) ~[na:na]
	at java.base/java.util.ArrayList.removeIf(ArrayList.java:1744) ~[na:na]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1795) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1781) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:334) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502) ~[hibernate-core-6.5.3.Final.jar:6.5.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802) ~[spring-beans-6.1.14.jar:6.1.14]
	... 15 common frames omitted

2024-12-10T20:50:56.262+04:00  INFO 14884 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Starting DealApplication using Java 22.0.2 with PID 14884 (C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes started by Ann in C:\Users\Ann\Desktop\study\neoflex\creditBank\deal)
2024-12-10T20:50:56.262+04:00 DEBUG 14884 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Running with Spring Boot v3.3.5, Spring v6.1.14
2024-12-10T20:50:56.262+04:00  INFO 14884 --- [deal] [main] ru.vaschenko.deal.DealApplication        : No active profile set, falling back to 1 default profile: "default"
2024-12-10T20:50:58.348+04:00  INFO 14884 --- [deal] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-10T20:50:58.484+04:00  INFO 14884 --- [deal] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 125 ms. Found 3 JPA repository interfaces.
2024-12-10T20:50:58.833+04:00  INFO 14884 --- [deal] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b965e6fb-a55f-38f3-89ae-cc70e94e1758
2024-12-10T20:50:59.486+04:00  INFO 14884 --- [deal] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2024-12-10T20:50:59.489+04:00  INFO 14884 --- [deal] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-10T20:50:59.489+04:00  INFO 14884 --- [deal] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10T20:50:59.613+04:00  INFO 14884 --- [deal] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-10T20:50:59.613+04:00  INFO 14884 --- [deal] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3212 ms
2024-12-10T20:50:59.934+04:00  INFO 14884 --- [deal] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-10T20:51:00.056+04:00  INFO 14884 --- [deal] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-10T20:51:00.134+04:00  INFO 14884 --- [deal] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-10T20:51:00.614+04:00  INFO 14884 --- [deal] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-10T20:51:00.666+04:00  INFO 14884 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-10T20:51:00.935+04:00  INFO 14884 --- [deal] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6181bc4a
2024-12-10T20:51:00.935+04:00  INFO 14884 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-10T20:51:02.317+04:00  INFO 14884 --- [deal] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-10T20:51:02.486+04:00  INFO 14884 --- [deal] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-10T20:51:03.225+04:00  WARN 14884 --- [deal] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-10T20:51:03.302+04:00 ERROR 14884 --- [deal] [main] o.s.c.o.support.SpringMvcContract        : Cannot process class: ru.vaschenko.deal.services.client.CalculatorClient. @RequestMapping annotation is not allowed on @FeignClient interfaces.
2024-12-10T20:51:03.302+04:00  WARN 14884 --- [deal] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dealController' defined in file [C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes\ru\vaschenko\deal\controllers\DealController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dealServices' defined in file [C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes\ru\vaschenko\deal\services\DealServices.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'calculatorService' defined in file [C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes\ru\vaschenko\deal\services\CalculatorService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'calculatorFacade' defined in file [C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes\ru\vaschenko\deal\services\client\impl\CalculatorFacade.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ru.vaschenko.deal.services.client.CalculatorClient': FactoryBean threw exception on object creation
2024-12-10T20:51:03.302+04:00  WARN 14884 --- [deal] [main] s.c.a.AnnotationConfigApplicationContext : Exception thrown from ApplicationListener handling ContextClosedEvent

org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'applicationTaskExecutor': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:265) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:222) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:145) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:452) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:458) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:385) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1139) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1102) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.cloud.context.named.NamedContextFactory.destroy(NamedContextFactory.java:113) ~[spring-cloud-context-4.1.2.jar:4.1.2]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1195) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:638) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at ru.vaschenko.deal.DealApplication.main(DealApplication.java:15) ~[classes/:na]

2024-12-10T20:51:03.302+04:00  INFO 14884 --- [deal] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-10T20:51:03.318+04:00  INFO 14884 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-10T20:51:03.318+04:00  INFO 14884 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-10T20:51:03.318+04:00  INFO 14884 --- [deal] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-12-10T20:51:03.344+04:00  INFO 14884 --- [deal] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-12-10T20:51:03.375+04:00 ERROR 14884 --- [deal] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dealController' defined in file [C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes\ru\vaschenko\deal\controllers\DealController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dealServices' defined in file [C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes\ru\vaschenko\deal\services\DealServices.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'calculatorService' defined in file [C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes\ru\vaschenko\deal\services\CalculatorService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'calculatorFacade' defined in file [C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes\ru\vaschenko\deal\services\client\impl\CalculatorFacade.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ru.vaschenko.deal.services.client.CalculatorClient': FactoryBean threw exception on object creation
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at ru.vaschenko.deal.DealApplication.main(DealApplication.java:15) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dealServices' defined in file [C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes\ru\vaschenko\deal\services\DealServices.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'calculatorService' defined in file [C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes\ru\vaschenko\deal\services\CalculatorService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'calculatorFacade' defined in file [C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes\ru\vaschenko\deal\services\client\impl\CalculatorFacade.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ru.vaschenko.deal.services.client.CalculatorClient': FactoryBean threw exception on object creation
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.14.jar:6.1.14]
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'calculatorService' defined in file [C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes\ru\vaschenko\deal\services\CalculatorService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'calculatorFacade' defined in file [C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes\ru\vaschenko\deal\services\client\impl\CalculatorFacade.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ru.vaschenko.deal.services.client.CalculatorClient': FactoryBean threw exception on object creation
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.14.jar:6.1.14]
	... 33 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'calculatorFacade' defined in file [C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes\ru\vaschenko\deal\services\client\impl\CalculatorFacade.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ru.vaschenko.deal.services.client.CalculatorClient': FactoryBean threw exception on object creation
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.14.jar:6.1.14]
	... 47 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ru.vaschenko.deal.services.client.CalculatorClient': FactoryBean threw exception on object creation
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:188) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:124) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1867) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:347) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.14.jar:6.1.14]
	... 61 common frames omitted
Caused by: java.lang.IllegalArgumentException: @RequestMapping annotation not allowed on @FeignClient interfaces
	at org.springframework.cloud.openfeign.support.SpringMvcContract.processAnnotationOnClass(SpringMvcContract.java:186) ~[spring-cloud-openfeign-core-4.1.1.jar:4.1.1]
	at feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:106) ~[feign-core-13.2.1.jar:na]
	at org.springframework.cloud.openfeign.support.SpringMvcContract.parseAndValidateMetadata(SpringMvcContract.java:197) ~[spring-cloud-openfeign-core-4.1.1.jar:4.1.1]
	at feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:65) ~[feign-core-13.2.1.jar:na]
	at feign.ReflectiveFeign$ParseHandlersByName.apply(ReflectiveFeign.java:137) ~[feign-core-13.2.1.jar:na]
	at feign.ReflectiveFeign.newInstance(ReflectiveFeign.java:56) ~[feign-core-13.2.1.jar:na]
	at feign.ReflectiveFeign.newInstance(ReflectiveFeign.java:48) ~[feign-core-13.2.1.jar:na]
	at feign.Feign$Builder.target(Feign.java:201) ~[feign-core-13.2.1.jar:na]
	at org.springframework.cloud.openfeign.DefaultTargeter.target(DefaultTargeter.java:30) ~[spring-cloud-openfeign-core-4.1.1.jar:4.1.1]
	at org.springframework.cloud.openfeign.FeignClientFactoryBean.getTarget(FeignClientFactoryBean.java:500) ~[spring-cloud-openfeign-core-4.1.1.jar:4.1.1]
	at org.springframework.cloud.openfeign.FeignClientFactoryBean.getObject(FeignClientFactoryBean.java:452) ~[spring-cloud-openfeign-core-4.1.1.jar:4.1.1]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:182) ~[spring-beans-6.1.14.jar:6.1.14]
	... 71 common frames omitted

2024-12-10T20:55:16.445+04:00  INFO 11272 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Starting DealApplication using Java 22.0.2 with PID 11272 (C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes started by Ann in C:\Users\Ann\Desktop\study\neoflex\creditBank\deal)
2024-12-10T20:55:16.447+04:00 DEBUG 11272 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Running with Spring Boot v3.3.5, Spring v6.1.14
2024-12-10T20:55:16.451+04:00  INFO 11272 --- [deal] [main] ru.vaschenko.deal.DealApplication        : No active profile set, falling back to 1 default profile: "default"
2024-12-10T20:55:18.337+04:00  INFO 11272 --- [deal] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-10T20:55:18.484+04:00  INFO 11272 --- [deal] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 117 ms. Found 3 JPA repository interfaces.
2024-12-10T20:55:18.803+04:00  INFO 11272 --- [deal] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b965e6fb-a55f-38f3-89ae-cc70e94e1758
2024-12-10T20:55:19.485+04:00  INFO 11272 --- [deal] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2024-12-10T20:55:19.511+04:00  INFO 11272 --- [deal] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-10T20:55:19.511+04:00  INFO 11272 --- [deal] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10T20:55:19.611+04:00  INFO 11272 --- [deal] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-10T20:55:19.611+04:00  INFO 11272 --- [deal] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3038 ms
2024-12-10T20:55:19.918+04:00  INFO 11272 --- [deal] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-10T20:55:20.012+04:00  INFO 11272 --- [deal] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-10T20:55:20.071+04:00  INFO 11272 --- [deal] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-10T20:55:20.587+04:00  INFO 11272 --- [deal] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-10T20:55:20.619+04:00  INFO 11272 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-10T20:55:20.888+04:00  INFO 11272 --- [deal] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@54275b5d
2024-12-10T20:55:20.888+04:00  INFO 11272 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-10T20:55:22.190+04:00  INFO 11272 --- [deal] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-10T20:55:22.290+04:00  INFO 11272 --- [deal] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-10T20:55:23.006+04:00  WARN 11272 --- [deal] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-10T20:55:23.904+04:00  INFO 11272 --- [deal] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2024-12-10T20:55:23.920+04:00  INFO 11272 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Started DealApplication in 8.456 seconds (process running for 9.229)
2024-12-10T20:55:49.549+04:00  INFO 11272 --- [deal] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-10T20:55:49.565+04:00  INFO 11272 --- [deal] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-10T20:55:49.571+04:00  INFO 11272 --- [deal] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-10T20:57:52.137+04:00  INFO 14308 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Starting DealApplication using Java 22.0.2 with PID 14308 (C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes started by Ann in C:\Users\Ann\Desktop\study\neoflex\creditBank\deal)
2024-12-10T20:57:52.142+04:00 DEBUG 14308 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Running with Spring Boot v3.3.5, Spring v6.1.14
2024-12-10T20:57:52.144+04:00  INFO 14308 --- [deal] [main] ru.vaschenko.deal.DealApplication        : No active profile set, falling back to 1 default profile: "default"
2024-12-10T20:57:54.024+04:00  INFO 14308 --- [deal] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-10T20:57:54.139+04:00  INFO 14308 --- [deal] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 3 JPA repository interfaces.
2024-12-10T20:57:54.440+04:00  INFO 14308 --- [deal] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b965e6fb-a55f-38f3-89ae-cc70e94e1758
2024-12-10T20:57:55.088+04:00  INFO 14308 --- [deal] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2024-12-10T20:57:55.104+04:00  INFO 14308 --- [deal] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-10T20:57:55.104+04:00  INFO 14308 --- [deal] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10T20:57:55.203+04:00  INFO 14308 --- [deal] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-10T20:57:55.203+04:00  INFO 14308 --- [deal] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2914 ms
2024-12-10T20:57:55.488+04:00  INFO 14308 --- [deal] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-10T20:57:55.587+04:00  INFO 14308 --- [deal] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-10T20:57:55.640+04:00  INFO 14308 --- [deal] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-10T20:57:56.141+04:00  INFO 14308 --- [deal] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-10T20:57:56.188+04:00  INFO 14308 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-10T20:57:56.458+04:00  INFO 14308 --- [deal] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@401926df
2024-12-10T20:57:56.458+04:00  INFO 14308 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-10T20:57:57.828+04:00  INFO 14308 --- [deal] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-10T20:57:57.960+04:00  INFO 14308 --- [deal] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-10T20:57:58.730+04:00  WARN 14308 --- [deal] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-10T20:57:59.648+04:00  INFO 14308 --- [deal] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2024-12-10T20:57:59.679+04:00  INFO 14308 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Started DealApplication in 8.681 seconds (process running for 9.527)
2024-12-10T20:58:13.726+04:00  INFO 14308 --- [deal] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10T20:58:13.726+04:00  INFO 14308 --- [deal] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-10T20:58:13.737+04:00  INFO 14308 --- [deal] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-10T20:58:15.735+04:00  INFO 14308 --- [deal] [http-nio-8081-exec-9] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 1150 ms
2024-12-10T20:58:24.501+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-10] r.v.deal.services.StatementService       : find statement by ID: 550e8400-e29b-41d4-a716-446655440000
2024-12-10T20:59:30.637+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-7] r.vaschenko.deal.services.ClientService  : save client Client(clientId=null, lastName=Doe, firstName=John, middleName=Ivanovich, birthdate=1990-05-01, email=example@example.com, gender=null, maritalStatus=null, dependentAmount=null, accountNumber=null)
2024-12-10T20:59:30.770+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-7] r.v.deal.services.StatementService       : save statement: Statement(statementId=null, status=PREAPPROVAL, creationDate=2024-12-10T20:59:30.770900300, signDate=null, sesCode=null)
2024-12-10T20:59:30.802+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-7] r.v.d.s.client.impl.CalculatorFacade     : Sending request to get loan offers with data LoanStatementRequestDto(amount=50000, term=24, firstName=John, lastName=Doe, middleName=Ivanovich, email=example@example.com, birthdate=1990-05-01, passportSeries=1234, passportNumber=123456)
2024-12-10T20:59:30.804+04:00  INFO 14308 --- [deal] [http-nio-8081-exec-7] r.v.d.s.client.impl.CalculatorFacade     : Response from calculator service received successfully
2024-12-10T20:59:31.185+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-7] r.vaschenko.deal.services.DealServices   : Created list of offers: [LoanOfferDto(statementId=b9f53e71-b09b-471b-a6d2-b7f065c140a8, requestedAmount=50000, totalAmount=50000, term=24, monthlyPayment=2424.33, rate=15, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=b9f53e71-b09b-471b-a6d2-b7f065c140a8, requestedAmount=50000, totalAmount=150000, term=24, monthlyPayment=7201.93, rate=14, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=b9f53e71-b09b-471b-a6d2-b7f065c140a8, requestedAmount=50000, totalAmount=50000, term=24, monthlyPayment=2353.67, rate=12, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=b9f53e71-b09b-471b-a6d2-b7f065c140a8, requestedAmount=50000, totalAmount=150000, term=24, monthlyPayment=6991.18, rate=11, isInsuranceEnabled=true, isSalaryClient=true)]
2024-12-10T21:00:05.650+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-8] r.v.deal.services.StatementService       : find statement by ID: b9f53e71-b09b-471b-a6d2-b7f065c140a8
2024-12-10T21:00:05.675+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-8] r.v.deal.services.StatementService       : save statement: Statement(statementId=b9f53e71-b09b-471b-a6d2-b7f065c140a8, status=APPROVED, creationDate=2024-12-10T20:59:30.770900, signDate=null, sesCode=null)
2024-12-10T21:01:24.798+04:00  INFO 14308 --- [deal] [http-nio-8081-exec-10] r.vaschenko.deal.services.DealServices   :    .
2024-12-10T21:01:24.798+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-10] r.v.deal.services.StatementService       : find statement by ID: b9f53e71-b09b-471b-a6d2-b7f065c140a8
2024-12-10T21:01:24.816+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-10] r.v.deal.services.StatementService       : save statement: Statement(statementId=b9f53e71-b09b-471b-a6d2-b7f065c140a8, status=CC_APPROVED, creationDate=2024-12-10T20:59:30.770900, signDate=null, sesCode=null)
2024-12-10T21:01:24.817+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-10] r.v.d.s.client.impl.CalculatorFacade     : Sending request to get credit calculation with data: ScoringDataDto(amount=50000, term=24, firstName=John, lastName=Doe, middleName=Ivanovich, gender=MALE, birthdate=1990-05-01, passportSeries=1234, passportNumber=123456, passportIssueDate=2022-01-15, passportIssueBranch=770-001, maritalStatus=MARRIED, dependentAmount=2, employment=EmploymentDto(employmentStatus=UNEMPLOYED, employerINN=7712345678, salary=75000, position=WORKER, workExperienceTotal=120, workExperienceCurrent=24), accountNumber=40817810099910004312, isInsuranceEnabled=false, isSalaryClient=false)
2024-12-10T21:01:24.830+04:00  INFO 14308 --- [deal] [http-nio-8081-exec-10] r.v.d.s.client.impl.CalculatorFacade     : Response from calculator service received successfully
2024-12-10T21:01:24.864+04:00 ERROR 14308 --- [deal] [http-nio-8081-exec-10] r.v.d.s.client.impl.CalculatorFacade     : Request to calculator service failed: [500] during [POST] to [http://localhost:8080/calculator/calc] [CalculatorClient#getCredit(ScoringDataDto)]: [{"error":"Internal Server Error","message":"An unexpected error occurred: JSON parse error: Cannot deserialize value of type `ru.vaschenko.calculator.dto.enums.Position` from String \"WORKER\": not one of the values accepted for Enum class: [MIDDLE_MANAGER, TOP_MANAGER]","timestamp":"2024-12-10T21:01:24.8649064","status":500}]
2024-12-10T21:02:38.956+04:00  INFO 14308 --- [deal] [http-nio-8081-exec-3] r.vaschenko.deal.services.DealServices   :    .
2024-12-10T21:02:38.956+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-3] r.v.deal.services.StatementService       : find statement by ID: b9f53e71-b09b-471b-a6d2-b7f065c140a8
2024-12-10T21:02:38.971+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-3] r.v.deal.services.StatementService       : save statement: Statement(statementId=b9f53e71-b09b-471b-a6d2-b7f065c140a8, status=CC_APPROVED, creationDate=2024-12-10T20:59:30.770900, signDate=null, sesCode=null)
2024-12-10T21:02:38.981+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-3] r.v.d.s.client.impl.CalculatorFacade     : Sending request to get credit calculation with data: ScoringDataDto(amount=50000, term=24, firstName=John, lastName=Doe, middleName=Ivanovich, gender=MALE, birthdate=1990-05-01, passportSeries=1234, passportNumber=123456, passportIssueDate=2022-01-15, passportIssueBranch=770-001, maritalStatus=MARRIED, dependentAmount=2, employment=EmploymentDto(employmentStatus=UNEMPLOYED, employerINN=7712345678, salary=75000, position=TOP_MANAGER, workExperienceTotal=120, workExperienceCurrent=24), accountNumber=40817810099910004312, isInsuranceEnabled=false, isSalaryClient=false)
2024-12-10T21:02:38.981+04:00  INFO 14308 --- [deal] [http-nio-8081-exec-3] r.v.d.s.client.impl.CalculatorFacade     : Response from calculator service received successfully
2024-12-10T21:02:39.046+04:00 ERROR 14308 --- [deal] [http-nio-8081-exec-3] r.v.d.s.client.impl.CalculatorFacade     : Request failed due to invalid data error (400): [400] during [POST] to [http://localhost:8080/calculator/calc] [CalculatorClient#getCredit(ScoringDataDto)]: [{"message":"Loan denied: Unemployed"}]
2024-12-10T21:02:39.046+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-3] r.v.deal.services.StatementService       : save statement: Statement(statementId=b9f53e71-b09b-471b-a6d2-b7f065c140a8, status=CC_DENIED, creationDate=2024-12-10T20:59:30.770900, signDate=null, sesCode=null)
2024-12-10T21:03:46.886+04:00  INFO 14308 --- [deal] [http-nio-8081-exec-6] r.vaschenko.deal.services.DealServices   :    .
2024-12-10T21:03:46.887+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-6] r.v.deal.services.StatementService       : find statement by ID: b9f53e71-b09b-471b-a6d2-b7f065c140a8
2024-12-10T21:03:46.899+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-6] r.v.deal.services.StatementService       : save statement: Statement(statementId=b9f53e71-b09b-471b-a6d2-b7f065c140a8, status=CC_APPROVED, creationDate=2024-12-10T20:59:30.770900, signDate=null, sesCode=null)
2024-12-10T21:03:46.914+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-6] r.v.d.s.client.impl.CalculatorFacade     : Sending request to get credit calculation with data: ScoringDataDto(amount=50000, term=24, firstName=John, lastName=Doe, middleName=Ivanovich, gender=MALE, birthdate=1990-05-01, passportSeries=1234, passportNumber=123456, passportIssueDate=2022-01-15, passportIssueBranch=770-001, maritalStatus=MARRIED, dependentAmount=2, employment=EmploymentDto(employmentStatus=BUSINESS_OWNER, employerINN=7712345678, salary=75000, position=TOP_MANAGER, workExperienceTotal=120, workExperienceCurrent=24), accountNumber=40817810099910004312, isInsuranceEnabled=false, isSalaryClient=false)
2024-12-10T21:03:46.915+04:00  INFO 14308 --- [deal] [http-nio-8081-exec-6] r.v.d.s.client.impl.CalculatorFacade     : Response from calculator service received successfully
2024-12-10T21:03:46.963+04:00 DEBUG 14308 --- [deal] [http-nio-8081-exec-6] r.vaschenko.deal.services.CreditService  : safe credit Credit(creditId=null, amount=50000, term=24, monthlyPayment=2238.63, rate=7, psk=7.4500, insuranceEnabled=false, salaryClient=false, creditStatus=CALCULATED)
2024-12-10T21:08:59.119+04:00  INFO 14308 --- [deal] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-10T21:08:59.119+04:00  INFO 14308 --- [deal] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-10T21:08:59.147+04:00  INFO 14308 --- [deal] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-10T21:09:07.293+04:00  INFO 15664 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Starting DealApplication using Java 22.0.2 with PID 15664 (C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes started by Ann in C:\Users\Ann\Desktop\study\neoflex\creditBank\deal)
2024-12-10T21:09:07.306+04:00 DEBUG 15664 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Running with Spring Boot v3.3.5, Spring v6.1.14
2024-12-10T21:09:07.309+04:00  INFO 15664 --- [deal] [main] ru.vaschenko.deal.DealApplication        : No active profile set, falling back to 1 default profile: "default"
2024-12-10T21:09:09.767+04:00  INFO 15664 --- [deal] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-10T21:09:09.886+04:00  INFO 15664 --- [deal] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 113 ms. Found 3 JPA repository interfaces.
2024-12-10T21:09:10.329+04:00  INFO 15664 --- [deal] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b965e6fb-a55f-38f3-89ae-cc70e94e1758
2024-12-10T21:09:11.141+04:00  INFO 15664 --- [deal] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2024-12-10T21:09:11.187+04:00  INFO 15664 --- [deal] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-10T21:09:11.187+04:00  INFO 15664 --- [deal] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10T21:09:11.286+04:00  INFO 15664 --- [deal] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-10T21:09:11.286+04:00  INFO 15664 --- [deal] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3785 ms
2024-12-10T21:09:11.747+04:00  INFO 15664 --- [deal] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-10T21:09:11.851+04:00  INFO 15664 --- [deal] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-10T21:09:11.907+04:00  INFO 15664 --- [deal] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-10T21:09:12.369+04:00  INFO 15664 --- [deal] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-10T21:09:12.422+04:00  INFO 15664 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-10T21:09:12.720+04:00  INFO 15664 --- [deal] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@399f5daf
2024-12-10T21:09:12.720+04:00  INFO 15664 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-10T21:09:14.485+04:00  INFO 15664 --- [deal] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-10T21:09:14.673+04:00  INFO 15664 --- [deal] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-10T21:09:15.661+04:00  WARN 15664 --- [deal] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-10T21:09:17.065+04:00  INFO 15664 --- [deal] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2024-12-10T21:09:17.099+04:00  INFO 15664 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Started DealApplication in 10.983 seconds (process running for 11.977)
2024-12-10T21:09:17.368+04:00  INFO 15664 --- [deal] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10T21:09:17.368+04:00  INFO 15664 --- [deal] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-10T21:09:17.371+04:00  INFO 15664 --- [deal] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-10T21:09:19.303+04:00  INFO 15664 --- [deal] [http-nio-8081-exec-5] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 1164 ms
2024-12-10T21:09:37.264+04:00  INFO 15664 --- [deal] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-10T21:09:37.280+04:00  INFO 15664 --- [deal] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-10T21:09:37.287+04:00  INFO 15664 --- [deal] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-10T21:21:47.072+04:00  INFO 10264 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Starting DealApplication using Java 22.0.2 with PID 10264 (C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes started by Ann in C:\Users\Ann\Desktop\study\neoflex\creditBank\deal)
2024-12-10T21:21:47.077+04:00 DEBUG 10264 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Running with Spring Boot v3.3.5, Spring v6.1.14
2024-12-10T21:21:47.081+04:00  INFO 10264 --- [deal] [main] ru.vaschenko.deal.DealApplication        : No active profile set, falling back to 1 default profile: "default"
2024-12-10T21:21:49.067+04:00  INFO 10264 --- [deal] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-10T21:21:49.185+04:00  INFO 10264 --- [deal] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 108 ms. Found 3 JPA repository interfaces.
2024-12-10T21:21:49.575+04:00  INFO 10264 --- [deal] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b965e6fb-a55f-38f3-89ae-cc70e94e1758
2024-12-10T21:21:50.214+04:00  INFO 10264 --- [deal] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2024-12-10T21:21:50.224+04:00  INFO 10264 --- [deal] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-10T21:21:50.224+04:00  INFO 10264 --- [deal] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10T21:21:50.343+04:00  INFO 10264 --- [deal] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-10T21:21:50.343+04:00  INFO 10264 --- [deal] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3115 ms
2024-12-10T21:21:50.681+04:00  INFO 10264 --- [deal] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-10T21:21:50.791+04:00  INFO 10264 --- [deal] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-10T21:21:50.850+04:00  INFO 10264 --- [deal] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-10T21:21:51.314+04:00  INFO 10264 --- [deal] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-10T21:21:51.366+04:00  INFO 10264 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-10T21:21:51.630+04:00  INFO 10264 --- [deal] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@28ce75ec
2024-12-10T21:21:51.645+04:00  INFO 10264 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-10T21:21:52.952+04:00  INFO 10264 --- [deal] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-10T21:21:53.067+04:00  INFO 10264 --- [deal] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-10T21:21:53.768+04:00  WARN 10264 --- [deal] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-10T21:21:54.695+04:00  INFO 10264 --- [deal] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2024-12-10T21:21:54.715+04:00  INFO 10264 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Started DealApplication in 8.876 seconds (process running for 9.874)
2024-12-10T21:22:04.810+04:00  INFO 10264 --- [deal] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10T21:22:04.811+04:00  INFO 10264 --- [deal] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-10T21:22:04.815+04:00  INFO 10264 --- [deal] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2024-12-10T21:22:06.153+04:00  INFO 10264 --- [deal] [http-nio-8081-exec-1] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 1232 ms
2024-12-10T21:28:53.130+04:00  INFO 10264 --- [deal] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-10T21:28:53.130+04:00  INFO 10264 --- [deal] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-10T21:28:53.150+04:00  INFO 10264 --- [deal] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-10T21:28:59.367+04:00  INFO 4412 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Starting DealApplication using Java 22.0.2 with PID 4412 (C:\Users\Ann\Desktop\study\neoflex\creditBank\deal\target\classes started by Ann in C:\Users\Ann\Desktop\study\neoflex\creditBank\deal)
2024-12-10T21:28:59.371+04:00 DEBUG 4412 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Running with Spring Boot v3.3.5, Spring v6.1.14
2024-12-10T21:28:59.376+04:00  INFO 4412 --- [deal] [main] ru.vaschenko.deal.DealApplication        : No active profile set, falling back to 1 default profile: "default"
2024-12-10T21:29:01.103+04:00  INFO 4412 --- [deal] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-10T21:29:01.236+04:00  INFO 4412 --- [deal] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 119 ms. Found 3 JPA repository interfaces.
2024-12-10T21:29:01.568+04:00  INFO 4412 --- [deal] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b965e6fb-a55f-38f3-89ae-cc70e94e1758
2024-12-10T21:29:02.294+04:00  INFO 4412 --- [deal] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2024-12-10T21:29:02.310+04:00  INFO 4412 --- [deal] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-10T21:29:02.310+04:00  INFO 4412 --- [deal] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-10T21:29:02.436+04:00  INFO 4412 --- [deal] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-10T21:29:02.436+04:00  INFO 4412 --- [deal] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2935 ms
2024-12-10T21:29:02.723+04:00  INFO 4412 --- [deal] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-10T21:29:02.823+04:00  INFO 4412 --- [deal] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-10T21:29:02.887+04:00  INFO 4412 --- [deal] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-10T21:29:03.394+04:00  INFO 4412 --- [deal] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-10T21:29:03.433+04:00  INFO 4412 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-10T21:29:03.718+04:00  INFO 4412 --- [deal] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@38054d01
2024-12-10T21:29:03.724+04:00  INFO 4412 --- [deal] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-10T21:29:05.014+04:00  INFO 4412 --- [deal] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-10T21:29:05.126+04:00  INFO 4412 --- [deal] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-10T21:29:05.826+04:00  WARN 4412 --- [deal] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-10T21:29:06.782+04:00  INFO 4412 --- [deal] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2024-12-10T21:29:06.800+04:00  INFO 4412 --- [deal] [main] ru.vaschenko.deal.DealApplication        : Started DealApplication in 8.267 seconds (process running for 8.95)
2024-12-10T21:29:34.485+04:00  INFO 4412 --- [deal] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-10T21:29:34.486+04:00  INFO 4412 --- [deal] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-10T21:29:34.493+04:00  INFO 4412 --- [deal] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2024-12-10T21:29:36.107+04:00  INFO 4412 --- [deal] [http-nio-8081-exec-3] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 952 ms
2024-12-10T21:29:51.259+04:00 DEBUG 4412 --- [deal] [http-nio-8081-exec-5] r.vaschenko.deal.services.ClientService  : save client Client(clientId=null, lastName=Doe, firstName=John, middleName=Ivanovich, birthdate=1990-05-01, email=example@example.com, gender=null, maritalStatus=null, dependentAmount=null, accountNumber=null)
2024-12-10T21:29:51.372+04:00 DEBUG 4412 --- [deal] [http-nio-8081-exec-5] r.v.deal.services.StatementService       : save statement: Statement(statementId=null, status=PREAPPROVAL, creationDate=2024-12-10T21:29:51.360176900, signDate=null, sesCode=null)
2024-12-10T21:29:51.377+04:00 DEBUG 4412 --- [deal] [http-nio-8081-exec-5] r.v.d.s.client.impl.CalculatorFacade     : Sending request to get loan offers with data LoanStatementRequestDto(amount=50000, term=24, firstName=John, lastName=Doe, middleName=Ivanovich, email=example@example.com, birthdate=1990-05-01, passportSeries=1234, passportNumber=123456)
2024-12-10T21:29:51.391+04:00  INFO 4412 --- [deal] [http-nio-8081-exec-5] r.v.d.s.client.impl.CalculatorFacade     : Response from calculator service received successfully
2024-12-10T21:29:51.549+04:00 DEBUG 4412 --- [deal] [http-nio-8081-exec-5] r.vaschenko.deal.services.DealServices   : Created list of offers: [LoanOfferDto(statementId=dd399c4e-22b2-4ba2-905e-3cffe7515f60, requestedAmount=50000, totalAmount=50000, term=24, monthlyPayment=2424.33, rate=15, isInsuranceEnabled=false, isSalaryClient=false), LoanOfferDto(statementId=dd399c4e-22b2-4ba2-905e-3cffe7515f60, requestedAmount=50000, totalAmount=150000, term=24, monthlyPayment=7201.93, rate=14, isInsuranceEnabled=true, isSalaryClient=false), LoanOfferDto(statementId=dd399c4e-22b2-4ba2-905e-3cffe7515f60, requestedAmount=50000, totalAmount=50000, term=24, monthlyPayment=2353.67, rate=12, isInsuranceEnabled=false, isSalaryClient=true), LoanOfferDto(statementId=dd399c4e-22b2-4ba2-905e-3cffe7515f60, requestedAmount=50000, totalAmount=150000, term=24, monthlyPayment=6991.18, rate=11, isInsuranceEnabled=true, isSalaryClient=true)]
2024-12-10T21:30:18.425+04:00 DEBUG 4412 --- [deal] [http-nio-8081-exec-6] r.v.deal.services.StatementService       : find statement by ID: dd399c4e-22b2-4ba2-905e-3cffe7515f60
2024-12-10T21:30:18.523+04:00 DEBUG 4412 --- [deal] [http-nio-8081-exec-6] r.v.deal.services.StatementService       : save statement: Statement(statementId=dd399c4e-22b2-4ba2-905e-3cffe7515f60, status=APPROVED, creationDate=2024-12-10T21:29:51.360177, signDate=null, sesCode=null)
2024-12-10T21:30:27.621+04:00  INFO 4412 --- [deal] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-10T21:30:27.621+04:00  INFO 4412 --- [deal] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-10T21:30:27.641+04:00  INFO 4412 --- [deal] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
